# 计算机基础知识体系

人类的知识边界一直在扩张，计算机作为作为人造学科，更是学到头秃也学不完。

因此计算机基础十分重要，我们可以计算机编程领域可以分为

- 内功：基础知识、底层原理。
- 外功：语言、框架、开发技能。
- 特殊领域知识：图形学、数学、物理学、医学、生物学。

特殊领域知识就是从事某个细分方向需要掌握的知识。

内功就是指我们无论是任何方向的软件工程师都必须掌握的，其中包括数据结构、算法、操作系统、汇编、编译原理、组成原理，这些对软件工程师十分重要。

而外功则是我们平时最常用到的，但恰恰是最不重要的。

## 1、数学

数学是一切理科的基石，若没有基石打底，那就是用沙堆塔。

高等数学、线性代数、概率论、统计学这些数学分支相对比较重要，计算机本质上是离散的。

在算法开发、机器学习、游戏引擎、信息安全编码、大数据等方向都极为重要。

## 2、C 语言

C 语言是最适合解释计算机系统的语言，C 语言本身特性极少，标准库简陋，没有任何可用的数据结构和算法，需要了解汇编、链接、装载、内存和指针，其中指针很难理解和使用。

恰巧这些正式计算机系统知识的一部分，所以使用 C 语言来学习计算机的系统知识最有效率。

因为很难想象用 Java 和 Python 去理解内存的分配、释放和回收机制，越抽象的高级语言也意味越脱离计算机系统。

而且几乎平时开发用的很多东西都是用 C 写的：Linux、unix、Redis、MySQL、Git 等等。

这无关方向，因为 C 语言是所有方法的起点，是计算机系统的基石：

> 任何比 C 更低级的语言都不足以完整的抽象一个计算机系统；任何一个比 C 高级的语言都可以用 C 来实现。

## 3、操作系统

我们所有的程序都需要运行在操作系统上，操作系统是所有计算机软件的基石。

- 程序运行起来就需要创建进程吧，这就涉及进程管理；
- 程序创建对象、存储数据需要内存分配吧，这就涉及内存管理；
- 常用的读写文件就涉及文件管理系统；
- 分配内存、读写文件又离不开系统的调用（System call）；
- 同时还需要学习使用锁、条件变量、临界区来保证程序并发时不会出错。

当我们真正做起工程以后就会发现很多问题是和操作系统紧密相关的，不理解操作系统的底层逻辑，甚至连错误原因都分析不出来。

## 4、编译原理

编译原理可能是我们平时接触最少的了，我们通常会觉得我又不会去创造一个新的编程语言，学习编译原理有什么用呢？

当我们学习编译原理之后，就可以站在更高的角度去审视这些编程语言，看到的就不再是表面的语法，而是更深层次的语法的实现和涵义。

这种感觉很透彻，就像搞懂了操作系统、体系结构你会明白一个程序从双击鼠标开始，到底是如何被运行起来的，这种掌握一切细节，透彻的感觉，真的很奇妙，不信你去试试。

说人话！

那学了编译原理你能干啥？

当你学完**有限状态机**以后，你会发现以前觉得很牛逼正则表达式似乎自己也能用 DFA、NFA 实现一下了。状态机的思想在编程中很多地方都用得上。

比如解析 HTTP 协议，如果没学过状态机思想，你可能会一行行的 if/else 去做解析，这里最麻烦的地方在于，if/else 需要提前将 HTTP 头部字段都接收到再来判断，而我们知道 HTTP 基于 TCP，而 TCP 是流式传输，所以你很有可能是几个字符一组组接收到的，这个时候用 if/else 写出来就很难看了。

而用状态机编写起来代码就会非常优雅。状态的转移是由规则驱动的，接收到一个字符就判断一个，非常的方便。

继续学完语法分析，你会掌握**递归下降分析**这样非常重要的思想，你可以使用递归下降快速的实现四则运算计算器。

如果不用递归下降你可能需要先中缀表达式转后缀，然后求值，这是我们大一数据结构课写的，当时用栈写的，有点麻烦。后来学完编译原理，又用递归下降重写了一遍，区区几十行代码遍搞定。

还有一类场景在实际开发中的用的很多，比如淘宝、京东这样的电商，它们的营销规则有很多，比如满减、直减、跨店等等，这样的规则是不可能写死在代码里的。

那是怎么做的呢？

一般会实现一个配置系统，并设计一个DSL（领域特定语言）来表达这些规则，将规则直接配置到系统中，这样可以非常方便的修改，那么如何在代码里去解析 DSL 定义的规则呢？这就需要为 DSL 写一个语法解析器，这里就会用到语法分析的方法。

DSL（Domain Specific Language），是一种用于某个特定领域的程序设计语言。这种特定于某个领域是相对于 C、C++、Python 这种通用语言而言的，通用语言可以在各个领域使用，我们熟悉的大多数程序设计语言都是通用语言，它们都是图灵完备的。

像我们平常经常使用的 JSON、SQL、HTML 这些都算是一种 DSL，你甚至可以尝试用递归下降去写一个 JSON、XML 解析器，这比写电商网站更有价值的。

继续往下学你会了解到抽象语法树 AST 如何生成、如何转化为中间代码、如何对中间代码优化、最终又是怎么生成机器指令的。

你会看到贪心算法在寄存器分配中的应用，也会看到图论中的可达性分析又是如何实现死代码消除。

IDE上面那个绿色的编译按钮对你不再是黑魔法。

为啥点一下就能生成可执行的程序？

你写的英文字母又是如何变成一个个二进制指令的？

学完编译原理，这些通通不是问题，妈妈再也不用担心你的学习~

当然完成一个像 GCC、Clang 这样的编译器难度太高太高，我们学习编译原理的目的也不是去造这样的轮子，而是为了更好的理解和运用编程语言。

## 5、体系结构和组成原理

计算机系统的体系结构是关于计算机是如何工作的，是学习如何造计算机的，而不是学习使用计算机的。

虽然造计算机有点夸张，但是至少我们得了解下计算机的实现原理，了解下代码是怎么被 CPU 执行的吧？不然其实你会很困惑，明明一堆英文字母，怎么在 CPU 这种电路上跑起来的，我大一学 C 语言就百思不得其解，直到后来学了组成原理和数字逻辑。

我们说计算机中一切都是 0、1，0、1 又是通过高低电平来表达的，通过与、或、非等逻辑门电路来表达二进制的数值运算，再将这些简单的电路集成在一起，就形成了 ALU 等具有运算能力的处理器。

你会看到一条指令是如何被CPU执行的，CPU 从内存或 Cache 中取出指令，放入指令寄存器，并对指令译码。译码就是按照指令的编码规则，将指令拆分成一系列的微操作和操作数。然后发出各种设备控制指令，执行微操作。这样就完成一条指令的执行。

我们说学完编译原理，能够明白写的英文代码是如何被变成二进制指令的，学完操作系统能搞懂二进制程序是如何被链接在一起，又是如何被操作系统加载、执行的。而组成原理则会告诉你二进制指令是如何控制 CPU 跑起来的，我们的操作系统本质上也是一个二进制的程序。

当你理解了计算机存储层次结构，理解了多级 Cache，你就会通过优化数据访问方式来编写出速度更快的程序。

你会学到底层体系结构对 C 这些语言的栈帧和参数传递的支持，参数是如何被传递给另外一个函数的？函数的返回值又是如何拿到。

这是学习组成原理对于写代码的意义。

学这些到底有什么意义？

你会完整的看到写的代码如何变成二进制指令，又是如何去控制各种门电路，最后变成屏幕上花花绿绿的程序的（当然这里可能还需要学习显示器的原理），这就是我们常说的“基础”和“原理”。

并且计算机体系结构中的很多思想，是能够广泛运用于现代软件开发的，比如 CPU 的多级 Cache 思想，就是我们现在服务器开发中提高并发度常用的缓存技术，包括缓存的替换策略等等。

当计算机对你不再是黑盒，你了解写下的代码到执行的每一步，而这也将成为你以后的核心竞争力，作为科班毕业生不应该只会使用 Java、Redis、Mysql、Spring 来写各种网站。

## 6、数据结构和算法

为什么把算法放到最后来讲，是不重要吗？相反，它太重要了，所以才让它来压轴。

如果要问我大学什么最后悔？那肯定是没有从大一就开始好好学算法，去打 ACM。

现在还在大一、大二的同学还不抓紧机会，别等到以后来后悔。当然，不打 ACM，我们也是能够学好数据结构和算法的。

数据结构和算法你能在任何计算机领域里看到，比如在编译原理中寄存器的分配会用到贪心，死代码检测与消除会用到图论里不可达的知识；操作系统进程、线程调度会用到多级队列和调度算法；组成原理中 Cache 的替换会用到 LRU、FIFO 等算法；开发必备的数据库也离不开 B+ 树、LSM 等数据结构和查找算法。

很多时候我们需要的算法都被封装到编程语言的基础库里了，以至于很多同学会觉得算法离我们太远，其实不是的。

如果不学习算法，连什么时候用 Map（红黑树实现）、什么时候用 HashMap 都分不清。

所以学习算法有助于我们根据应用场景选择最合适的数据结构。

日常开发中也一定离不开算法，比如小北最近工作中涉及的某种嵌套 TLV（Tag-Length-Value）结构编码的解析，就需要用到递归、多叉树等知识。如果不学习算法，那么程序中只能见到大量的 if/else、while/for...

**可以说不会算法的工程师一定不是一个优秀的工程师。**

## 7、计算机网络

从 URL 输入到页面展现到底发生什么？

一个数据包是如何发送到另外一台电脑的？

## 8、设计模式



## 9、数据库

# 从代码被写下到程序运行起来，计算机到底做了什么？ #